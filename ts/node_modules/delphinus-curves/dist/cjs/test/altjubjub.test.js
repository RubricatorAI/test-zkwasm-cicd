"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const bn_js_1 = require("bn.js");
const sha256_1 = __importDefault(require("sha256"));
const altjubjub_1 = require("../src/altjubjub");
const prik = altjubjub_1.PrivateKey.random();
console.log(prik.key.v.toString("hex"));
const pubk = prik.publicKey;
console.log("generated pubkey is:");
console.log(pubk.key.x.v.toString("hex"), pubk.key.y.v.toString("hex"));
const sign = prik.sign(new bn_js_1.BN(0).toArrayLike(Buffer, 'be', 64));
console.log("r_x:", sign[0][0].toString("hex", 64), // rx
(0, altjubjub_1.bnToHexLe)(sign[0][0]), "r_y:", sign[0][1].toString("hex", 64), // ry
(0, altjubjub_1.bnToHexLe)(sign[0][1]), "r_s:", sign[1].toString("hex", 64), // rs
(0, altjubjub_1.bnToHexLe)(sign[1]), "pub_x:", pubk.key.x.v.toString("hex", 64), //pubx
(0, altjubjub_1.bnToHexLe)(pubk.key.x.v), "pub_y:", pubk.key.y.v.toString("hex", 64), //puby
(0, altjubjub_1.bnToHexLe)(pubk.key.y.v));
console.log((0, altjubjub_1.bnToHexLe)(pubk.key.x.v));
console.log((0, altjubjub_1.bnToHexLe)(pubk.key.y.v));
console.log((0, altjubjub_1.bnToHexLe)(sign[0][0]));
console.log((0, altjubjub_1.bnToHexLe)(sign[0][1]));
console.log((0, altjubjub_1.bnToHexLe)(sign[1]));
let l = altjubjub_1.Point.base.mul(sign[1]);
let r = new altjubjub_1.Point(sign[0][0], sign[0][1]).add(pubk.key.mul(new bn_js_1.BN((0, sha256_1.default)(sign[0][0].toArray('be', 32)
    .concat(pubk.key.x.v.toArray('be', 32))
    .concat(new bn_js_1.BN(0).toArray('be', 64))), "hex")));
console.log(l);
console.log(r);
